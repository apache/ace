<project name="build" default="all">
<path id="classpath">
      <pathelement path="."/>
</path>
<taskdef name="bundle"
        classname="net.luminis.build.plugin.bnd.BuildTask"
        classpath="../../net.luminis.build.plugin.jar" />
<target name="all">
<zip destfile="xom-1.1-patched.jar"><zipfileset src="xom-1.1.jar" excludes="**/UnicodeUtil.class"/></zip>
<bundle classpathrefid="classpath" 
            bundlesymbolicname="org.apache.ace.xstream" bundleversion="1.3" 
            bundlename="XStream" outputdir="." 
            exportpackage="com.thoughtworks.xstream.*"
            importpackage="org.w3c.*, org.xml.*, !., com.thoughtworks.xstream.*, *;resolution:=optional"
            bundleclasspath="cglib-nodep-2.1_3.jar,dom4j-1.6.1.jar,jdom-1.0.jar,jettison-1.0-RC2.jar,joda-time-1.5.1.jar,stax-1.2.0.jar,stax-api-1.0.1.jar,wstx-asl-3.2.3.jar,xml-writer-0.2.jar,xom-1.1.jar,xpp3_min-1.1.4c.jar,xstream-1.3.jar,xstream-benchmark-1.3.jar" 
            includeresource="cglib-nodep-2.1_3.jar,dom4j-1.6.1.jar,jdom-1.0.jar,jettison-1.0-RC2.jar,joda-time-1.5.1.jar,stax-1.2.0.jar,stax-api-1.0.1.jar,wstx-asl-3.2.3.jar,xml-writer-0.2.jar,xom-1.1.jar=xom-1.1-patched.jar,xpp3_min-1.1.4c.jar,xstream-1.3.jar,xstream-benchmark-1.3.jar"/>
                
<jar file="org.apache.ace.xstream-1.3.jar" update="true"><include name="xom-1.1.jar"/></jar>
<delete file="xom-1.1-patched.jar"/>
</target>
</project>
